{"version":3,"sources":["NegociacaoService.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","NegociacaoService","_http","HttpService","value","obterNegociacoesDaSemana","_this","Promise","resolve","reject","get","then","negociacoes","map","objeto","Negociacao","Date","data","quantidade","valor","catch","erro","console","error","obterNegociacoesDaSemanaAnterior","_this2","obterNegociacoesDaSemanaRetrasada","_this3","obterNegociacoes","_this4","all","periodos","reduce","dados","periodo","concat","dado"],"mappings":"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","file":"NegociacaoService.js","sourcesContent":["\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* import { HttpService } from './HttpService';\nimport { Negociacao } from '../models/Negociacao';\n*/\nvar NegociacaoService = function () {\n    function NegociacaoService() {\n        _classCallCheck(this, NegociacaoService);\n\n        this._http = new HttpService();\n    }\n\n    _createClass(NegociacaoService, [{\n        key: \"obterNegociacoesDaSemana\",\n        value: function obterNegociacoesDaSemana() {\n            var _this = this;\n\n            return new Promise(function (resolve, reject) {\n                _this._http.get(\"http://localhost:3000/negociacoes/semana\").then(function (negociacoes) {\n                    resolve(negociacoes.map(function (objeto) {\n                        return new Negociacao(new Date(objeto.data), objeto.quantidade, objeto.valor);\n                    }));\n                }).catch(function (erro) {\n                    console.error(erro);\n                    reject(\"Não foi possível obter as negociações da semana\");\n                });\n            });\n        }\n    }, {\n        key: \"obterNegociacoesDaSemanaAnterior\",\n        value: function obterNegociacoesDaSemanaAnterior() {\n            var _this2 = this;\n\n            return new Promise(function (resolve, reject) {\n                _this2._http.get(\"http://localhost:3000/negociacoes/anterior\").then(function (negociacoes) {\n                    resolve(negociacoes.map(function (objeto) {\n                        return new Negociacao(new Date(objeto.data), objeto.quantidade, objeto.valor);\n                    }));\n                }).catch(function (erro) {\n                    console.error(erro);\n                    reject(\"Não foi possível obter as negociações da semana anterior\");\n                });\n            });\n        }\n    }, {\n        key: \"obterNegociacoesDaSemanaRetrasada\",\n        value: function obterNegociacoesDaSemanaRetrasada() {\n            var _this3 = this;\n\n            return new Promise(function (resolve, reject) {\n                _this3._http.get(\"http://localhost:3000/negociacoes/retrasada\").then(function (negociacoes) {\n                    resolve(negociacoes.map(function (objeto) {\n                        return new Negociacao(new Date(objeto.data), objeto.quantidade, objeto.valor);\n                    }));\n                }).catch(function (erro) {\n                    console.error(erro);\n                    reject(\"Não foi possível obter as negociações da semana retrasada\");\n                });\n            });\n        }\n    }, {\n        key: \"obterNegociacoes\",\n        value: function obterNegociacoes() {\n            var _this4 = this;\n\n            return new Promise(function (resolve, reject) {\n                Promise.all([_this4.obterNegociacoesDaSemana(), _this4.obterNegociacoesDaSemanaAnterior(), _this4.obterNegociacoesDaSemanaRetrasada()]).then(function (periodos) {\n                    var negociacoes = periodos.reduce(function (dados, periodo) {\n                        return dados.concat(periodo);\n                    }, []).map(function (dado) {\n                        return new Negociacao(new Date(dado.data), dado.quantidade, dado.valor);\n                    });\n\n                    resolve(negociacoes);\n                }).catch(function (erro) {\n                    return reject(erro);\n                });\n            });\n        }\n    }]);\n\n    return NegociacaoService;\n}();"]}